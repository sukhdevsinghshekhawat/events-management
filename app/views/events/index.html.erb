<h2>Upcoming Events</h2>

<% if current_user.role == "admin" %>
  <%= link_to "Create Event", new_event_path, class: "btn btn-success" %>
<% end %>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Title</th>
      <th>Date</th>
      <th>Venue</th>
      <th>Teacher</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= link_to event.title, event_path(event) %></td>
        <td><%= event.date %></td>
        <td><%= event.venue %></td>
        <td><%= event.teacher&.name || "N/A" %></td>
        <td>
          <% if logged_in? && current_user.role == "admin" %>
            <%= link_to "Edit", edit_event_path(event), class: "btn btn-sm btn-warning" %>
            <%= link_to "Delete", event_path(event), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-danger" %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
